using System;
using Microsoft.EntityFrameworkCore;
using WeldAdminPro.Data;
using WeldAdminPro.Core.Models;

class TestEfInsert
{
    static void Main()
    {
        var options = new DbContextOptionsBuilder<ApplicationDbContext>()
            .UseSqlite("Data Source=weldadmin.db")
            .Options;

        using var db = new ApplicationDbContext(options);

        var user = new User
        {
            Username = "ef_test_user",
            Email = "test@local"
        };

        db.Users.Add(user);
        db.SaveChanges();

        Console.WriteLine($"Inserted: {user.Id}, {user.Username}, created_at={user.CreatedAt}, updated_at={user.UpdatedAt}");
    }
}
